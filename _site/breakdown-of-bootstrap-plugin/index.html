<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Breakdown of Bootstrap Plugin &#8211; ['Sorted', 'Array'].sort</title>
<meta name="description" content="Most of the Bootstrap javascript plugins like Modal, Dropdown and others, share the same basic template. I wanted to extract that template out from their js plugin and explain each part individually. Here is the basic template extracted from modal.js.
+function ($) {
  &#39;use strict&#39;;

  // MODAL CLASS DEFINITION
  // ======================

  var Modal = function (element, options) {
    this.options        = options
    this.$body          = $(document.body)
    ...
  }

  Modal.VERSION  = &#39;3.2.0&#39;

  Modal.DEFAULTS = {
    backdrop: true,
    keyboard: true,
    show: true
  }

   Modal.prototype.show = function (_relatedTarget) {
     ....
   }

  // MODAL PLUGIN DEFINITION
  // =======================

  function Plugin(option, _relatedTarget) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data(&#39;bs.modal&#39;)
      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == &#39;object&#39; &amp;amp;&amp;amp; option)

      if (!data) $this.data(&#39;bs.modal&#39;, (data = new Modal(this, options)))
      if (typeof option == &#39;string&#39;) data[option](_relatedTarget)
      else if (options.show) data.show(_relatedTarget)
    })
  }

  var old = $.fn.modal

  $.fn.modal             = Plugin
  $.fn.modal.Constructor = Modal


  // MODAL NO CONFLICT
  // =================

  $.fn.modal.noConflict = function () {
    $.fn.modal = old
    return this
  }

  ....

}(jQuery);

">
<meta name="keywords" content="bootstrap">

  

<!-- Twitter Cards -->
<meta name="twitter:title" content="Breakdown of Bootstrap Plugin">
<meta name="twitter:description" content="Most of the Bootstrap javascript plugins like Modal, Dropdown and others, share the same basic template. I wanted to extract that template out from their js plugin and explain each part individually. Here is the basic template extracted from modal.js.
+function ($) {
  &#39;use strict&#39;;

  // MODAL CLASS DEFINITION
  // ======================

  var Modal = function (element, options) {
    this.options        = options
    this.$body          = $(document.body)
    ...
  }

  Modal.VERSION  = &#39;3.2.0&#39;

  Modal.DEFAULTS = {
    backdrop: true,
    keyboard: true,
    show: true
  }

   Modal.prototype.show = function (_relatedTarget) {
     ....
   }

  // MODAL PLUGIN DEFINITION
  // =======================

  function Plugin(option, _relatedTarget) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data(&#39;bs.modal&#39;)
      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == &#39;object&#39; &amp;amp;&amp;amp; option)

      if (!data) $this.data(&#39;bs.modal&#39;, (data = new Modal(this, options)))
      if (typeof option == &#39;string&#39;) data[option](_relatedTarget)
      else if (options.show) data.show(_relatedTarget)
    })
  }

  var old = $.fn.modal

  $.fn.modal             = Plugin
  $.fn.modal.Constructor = Modal


  // MODAL NO CONFLICT
  // =================

  $.fn.modal.noConflict = function () {
    $.fn.modal = old
    return this
  }

  ....

}(jQuery);

">
<meta name="twitter:site" content="@amunda">


<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/default-thumb.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Breakdown of Bootstrap Plugin">
<meta property="og:description" content="Most of the Bootstrap javascript plugins like Modal, Dropdown and others, share the same basic template. I wanted to extract that template out from their js plugin and explain each part individually. Here is the basic template extracted from modal.js.
+function ($) {
  &#39;use strict&#39;;

  // MODAL CLASS DEFINITION
  // ======================

  var Modal = function (element, options) {
    this.options        = options
    this.$body          = $(document.body)
    ...
  }

  Modal.VERSION  = &#39;3.2.0&#39;

  Modal.DEFAULTS = {
    backdrop: true,
    keyboard: true,
    show: true
  }

   Modal.prototype.show = function (_relatedTarget) {
     ....
   }

  // MODAL PLUGIN DEFINITION
  // =======================

  function Plugin(option, _relatedTarget) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data(&#39;bs.modal&#39;)
      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == &#39;object&#39; &amp;amp;&amp;amp; option)

      if (!data) $this.data(&#39;bs.modal&#39;, (data = new Modal(this, options)))
      if (typeof option == &#39;string&#39;) data[option](_relatedTarget)
      else if (options.show) data.show(_relatedTarget)
    })
  }

  var old = $.fn.modal

  $.fn.modal             = Plugin
  $.fn.modal.Constructor = Modal


  // MODAL NO CONFLICT
  // =================

  $.fn.modal.noConflict = function () {
    $.fn.modal = old
    return this
  }

  ....

}(jQuery);

">
<meta property="og:url" content="/breakdown-of-bootstrap-plugin/">
<meta property="og:site_name" content="['Sorted', 'Array'].sort">





<link rel="canonical" href="/breakdown-of-bootstrap-plugin/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="['Sorted', 'Array'].sort Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="/assets/js/vendor/html5shiv.min.js"></script>
	<script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="/">['Sorted','Array']<span>.sort()</span></a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		     
				    
				        
				    
				    <li><a href="/posts/" >All Posts</a></li>
				
				    
				        
				    
				    <li><a href="/presentations/" >Presentations</a></li>
				
        
          <li><a href="feed.xml" class="author-social" target="_blank"><i class="fa fa-fw fa-rss"></i></a></li>
        
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->

<div class="site-boundary">
</div>




<div id="main" role="main">
  <div class="article-author-side">
      


<div itemscope itemtype="http://schema.org/Person">


	<img src="/images/bio-photo.png" class="bio-photo" alt="Abdul Munda bio photo">


  <h3 itemprop="name">Abdul Munda</h3>
  <p>I am Abdul Munda from Toronto, Canada. I am a father, husband, full-stack Rails developer and entrepreneur. Love to build and learn new things.</p>
  
  <a href="http://twitter.com/amunda" class="author-social" target="_blank"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a>
  
  
  <a href="http://linkedin.com/in/amunda" class="author-social" target="_blank"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a>
  
  
  <a href="http://github.com/amunda" class="author-social" target="_blank"><i class="fa fa-fw fa-github"></i> Github</a>
  
  
  
  
  
  
  
  
  
  
</div>    
  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="/breakdown-of-bootstrap-plugin/" rel="bookmark" title="Breakdown of Bootstrap Plugin">Breakdown of Bootstrap Plugin</a></h1>
      
      <p class="byline"> Published on <time datetime="2015-01-18T16:41:04-05:00">January 18, 2015</time> by Abdul Munda.</p>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p>Most of the Bootstrap javascript plugins like Modal, Dropdown and others, share the same basic template. I wanted to extract that template out from their js plugin and explain each part individually. Here is the basic template extracted from <a title="modal.js" href="https://github.com/twbs/bootstrap/blob/master/js/modal.js">modal.js</a>.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="o">+</span><span class="kd">function</span> <span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>
  <span class="s1">&#39;use strict&#39;</span><span class="p">;</span>

  <span class="c1">// MODAL CLASS DEFINITION</span>
  <span class="c1">// ======================</span>

  <span class="kd">var</span> <span class="nx">Modal</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">element</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">options</span>        <span class="o">=</span> <span class="nx">options</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">$body</span>          <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">)</span>
    <span class="p">...</span>
  <span class="p">}</span>

  <span class="nx">Modal</span><span class="p">.</span><span class="nx">VERSION</span>  <span class="o">=</span> <span class="s1">&#39;3.2.0&#39;</span>

  <span class="nx">Modal</span><span class="p">.</span><span class="nx">DEFAULTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">backdrop</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">keyboard</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">show</span><span class="o">:</span> <span class="kc">true</span>
  <span class="p">}</span>

   <span class="nx">Modal</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">show</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">_relatedTarget</span><span class="p">)</span> <span class="p">{</span>
     <span class="p">....</span>
   <span class="p">}</span>

  <span class="c1">// MODAL PLUGIN DEFINITION</span>
  <span class="c1">// =======================</span>

  <span class="kd">function</span> <span class="nx">Plugin</span><span class="p">(</span><span class="nx">option</span><span class="p">,</span> <span class="nx">_relatedTarget</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">$this</span>   <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
      <span class="kd">var</span> <span class="nx">data</span>    <span class="o">=</span> <span class="nx">$this</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;bs.modal&#39;</span><span class="p">)</span>
      <span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">({},</span> <span class="nx">Modal</span><span class="p">.</span><span class="nx">DEFAULTS</span><span class="p">,</span> <span class="nx">$this</span><span class="p">.</span><span class="nx">data</span><span class="p">(),</span> <span class="k">typeof</span> <span class="nx">option</span> <span class="o">==</span> <span class="s1">&#39;object&#39;</span> <span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span> <span class="nx">option</span><span class="p">)</span>

      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">data</span><span class="p">)</span> <span class="nx">$this</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;bs.modal&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">data</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Modal</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">options</span><span class="p">)))</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">option</span> <span class="o">==</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span> <span class="nx">data</span><span class="p">[</span><span class="nx">option</span><span class="p">](</span><span class="nx">_relatedTarget</span><span class="p">)</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">show</span><span class="p">)</span> <span class="nx">data</span><span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="nx">_relatedTarget</span><span class="p">)</span>
    <span class="p">})</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">old</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">modal</span>

  <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">modal</span>             <span class="o">=</span> <span class="nx">Plugin</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">modal</span><span class="p">.</span><span class="nx">Constructor</span> <span class="o">=</span> <span class="nx">Modal</span>


  <span class="c1">// MODAL NO CONFLICT</span>
  <span class="c1">// =================</span>

  <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">modal</span><span class="p">.</span><span class="nx">noConflict</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">modal</span> <span class="o">=</span> <span class="nx">old</span>
    <span class="k">return</span> <span class="k">this</span>
  <span class="p">}</span>

  <span class="p">....</span>

<span class="p">}(</span><span class="nx">jQuery</span><span class="p">);</span></code></pre></div>

<p>Let's break this template further and look at each of the parts separately:</p>
<h3> 1. Self Invoking Function:</h3>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="o">+</span><span class="kd">function</span> <span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>
 <span class="p">...</span>
<span class="p">}(</span><span class="nx">jQuery</span><span class="p">)</span></code></pre></div>

<p>Self-invoking functions are the functions which get invoked as soon as it gets defined. They create a scope for all the variables and functions defined within the function so they don't leak to global scope.</p>
<p>Another interesting thing about this function is that it is starting with the plus sign '+'.  The reason for this is to make parser think that it is the function expression instead of the function statement. Whenever javascript parser sees 'function' at the start of the line, it considers that as a function statement. A function statement requires that the function should have a name and it also cannot end the statement with parenthesis like '(jquery)'.</p>
<p>A function expression on the other-hand, can be anonymous, and you can invoke them right away by putting parenthesis at the end. Putting any operator, like +, -, ! etc., in front of the function will make the parser think that it's a function expression.</p>
<p>Lastly, you may have noticed that we actually pass 'jQuery' to the function and make '$' the parameter name. This way we can reference jQuery within function with '$'. Outside the scope of the function, you can continue to use '$' for other libraries. This avoids any conflict between jQuery and other libraries which share '$'.</p>
<h3> 2. Strict Mode</h3>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="s2">&quot;use strict&quot;</span><span class="p">;</span></code></pre></div>
<p>By switching on the strict mode of javascript, you opt into a better, more secure and a restricter version of javascript. In this mode, for example, you cannot use undeclared variables.  This way you cannot add variables to global scope by mistake, for example:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">test</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
  <span class="nx">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="cm">/* throws syntax error - Uncaught ReferenceError: x ... */</span>
<span class="p">}</span></code></pre></div>
<p>Similarly, assigning a value to a non-writable or getter-only property will throw error as well. <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode">MDN</a> and <a href="http://www.w3schools.com/js/js_strict.asp">w3schools</a> have great explanation on what's allowed and disallowed in the strict mode.</p>
<h3>3. Constructor Function &amp; Prototype</h3>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">Modal</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">element</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">options</span>        <span class="o">=</span> <span class="nx">options</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">$body</span>          <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">)</span>
    <span class="p">...</span>
  <span class="p">}</span>

<span class="nx">Modal</span><span class="p">.</span><span class="nx">VERSION</span>  <span class="o">=</span> <span class="s1">&#39;3.2.0&#39;</span>

<span class="nx">Modal</span><span class="p">.</span><span class="nx">DEFAULTS</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">backdrop</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">keyboard</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">show</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">}</span>

<span class="nx">Modal</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">show</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">_relatedTarget</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">....</span>
<span class="p">}</span></code></pre></div>
<p>Modal is a constructor function which gets executed when 'new Modal()' is called. The important thing to note is that 'this' in modal function can change references based on how it is called.</p>
<p>If it's executed with the new operator like, 'new Modal()", then 'this' is bound to a newly created object and all the properties like 'options' are set on that object and everything works as expected.</p>
<p>However, if this function is called without the 'new' operator like 'Modal();' then 'this' is bound to the global object and it can clobber the global namespace. In this case, 'this.options' will be same as calling 'window.options'. Take a look at the example below which shows how the references of 'this' changes:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">Tester</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">Tester</span><span class="p">();</span>     <span class="cm">/* outputs: Window    */</span>
<span class="k">new</span> <span class="nx">Tester</span><span class="p">();</span> <span class="cm">/* outputs: Tester {} */</span></code></pre></div>
<h3>4. Main Plugin Function</h3>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// MODAL PLUGIN DEFINITION</span>
  <span class="c1">// =======================</span>

  <span class="kd">function</span> <span class="nx">Plugin</span><span class="p">(</span><span class="nx">option</span><span class="p">,</span> <span class="nx">_relatedTarget</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">$this</span>   <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
      <span class="kd">var</span> <span class="nx">data</span>    <span class="o">=</span> <span class="nx">$this</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;bs.modal&#39;</span><span class="p">)</span>
      <span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">({},</span> <span class="nx">Modal</span><span class="p">.</span><span class="nx">DEFAULTS</span><span class="p">,</span> <span class="nx">$this</span><span class="p">.</span><span class="nx">data</span><span class="p">(),</span> <span class="k">typeof</span> <span class="nx">option</span> <span class="o">==</span> <span class="s1">&#39;object&#39;</span> <span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span> <span class="nx">option</span><span class="p">)</span>

      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">data</span><span class="p">)</span> <span class="nx">$this</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;bs.modal&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">data</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Modal</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">options</span><span class="p">)))</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">option</span> <span class="o">==</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span> <span class="nx">data</span><span class="p">[</span><span class="nx">option</span><span class="p">](</span><span class="nx">_relatedTarget</span><span class="p">)</span>
      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">show</span><span class="p">)</span> <span class="nx">data</span><span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="nx">_relatedTarget</span><span class="p">)</span>
    <span class="p">})</span>
  <span class="p">}</span></code></pre></div>
<p>This plugin function is the method which gets exposed to jQuery's prototype ($.fn). This is the method which gets called when you call '$('.my_modal').modal();'.</p>
<p>Interesting part about this method is how it puts the Modal object in the data params.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">data</span>    <span class="o">=</span> <span class="nx">$this</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;bs.modal&#39;</span><span class="p">)</span>
<span class="p">...</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">data</span><span class="p">)</span> <span class="nx">$this</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;bs.modal&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">data</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Modal</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">options</span><span class="p">)))</span></code></pre></div>
<p>This enables the re-use of the same Modal object, if you show or hide the same modal multiple times on the page. Its an interesting technique to memorize object by using  data attribute.</p>
<p>Another thing to note is that you can also pass string to call specific methods eg. $('.my_modal).modal('show'). This is done by using this line.</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">option</span> <span class="o">==</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span> <span class="nx">data</span><span class="p">[</span><span class="nx">option</span><span class="p">](</span><span class="nx">_relatedTarget</span><span class="p">)</span></code></pre></div>
<h3>5. Constructor Property</h3>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">old</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">modal</span>

<span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">modal</span>             <span class="o">=</span> <span class="nx">Plugin</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">modal</span><span class="p">.</span><span class="nx">Constructor</span> <span class="o">=</span> <span class="nx">Modal</span></code></pre></div>
<p>Finally, the Constructor property which exposes the main Modal function object. This is useful for extending Modal or for changing the default settings e.g '$.fn.modal.Constructor.DEFAULTS.show = false;'. This will change the default settings for all the instances of the Modal.</p>
<h3>Conclusion:</h3>
<p>There are some of the lessons I learned from this plugin pattern and it gives a great boiler plate for writing jQuery plugins. If you have learned some other things from this pattern, please share in the comments.</p>

      <hr />
      <footer role="contentinfo">
        <div class="social-share">
  <h4>Share on</h4>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=/breakdown-of-bootstrap-plugin/" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=/breakdown-of-bootstrap-plugin/" class="facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=/breakdown-of-bootstrap-plugin/" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
  </ul>
</div><!-- /.social-share -->
        <!-- <p class="byline"><strong>Breakdown of Bootstrap Plugin</strong> was published on <time datetime="2015-01-18T16:41:04-05:00">January 18, 2015</time>.</p> -->
      </footer>
    </div><!-- /.article-wrap -->
  
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="/2015-02-07-using-reactjs-in-rails/" title="ReactJS in Rails">ReactJS in Rails</a></li>
    
      <li><a href="/handling-s3-incompletebody-error-when-using-asset_sync-gem/" title="Handling S3 IncompleteBody error when using asset_sync gem">Handling S3 IncompleteBody error when using asset_sync gem</a></li>
    
      <li><a href="/open-sans-fonts-can-break-accent-characters/" title="Open Sans fonts can break accent characters">Open Sans fonts can break accent characters</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    


  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>

<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl = 
 '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-58157096-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


  
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'sortedarray'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

	        

</body>
</html>